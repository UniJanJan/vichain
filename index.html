<!-- <!doctype html> -->
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vichain</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>
    <div id="app" class="container-fluid text-center d-flex flex-column" style="height: 100vh">
        <div class="row" style="text-align: initial;">
            <div class="col-12">
                <h2 style="margin-bottom: 0;">Vichain</h2>
                <span>Visual blockchain</span>
            </div>
        </div>
        <div class="row bg-light align-items-center justify-content-top" style="flex: 1 1 auto; height: 100%;">
            <div class="col-9" id="visualisation-div" style="height: 100%; margin: 0;">
                <canvas id="visualisation-canvas" style="border-style: double; height: 100%; width: 100%;"></canvas>
            </div>
            <div class="col-3" style="align-self: start;">
                <div v-if="network.selectedNode">
                    <h2>Node {{ network.selectedNode.id }}</h2>
                    <nav>
                        <div class="nav nav-tabs" id="nav-tab" role="tablist">
                            <button class="nav-link active" id="nav-events-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-events" type="button" role="tab" aria-controls="nav-home"
                                aria-selected="true">Events</button>
                            <button class="nav-link" id="nav-mempool-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-mempool" type="button" role="tab" aria-controls="nav-mempool"
                                aria-selected="false">Mempool</button>
                            <button class="nav-link" id="nav-blockchain-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-blockchain" type="button" role="tab" aria-controls="nav-blockchain"
                                aria-selected="false">Blockchain</button>
                        </div>
                    </nav>
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="nav-events" role="tabpanel"
                            aria-labelledby="nav-events-tab">

                            Processable events
                            <div v-if="processableEvents.length > 0">
                                <ul class="list-group" v-for="event in processableEvents">
                                    <li class="list-group-item"
                                        style="font-size: small; padding: 0; background-color: chartreuse;">
                                        {{translateEventClassName(event)}}</li>
                                </ul>
                            </div>
                            <div v-else>
                                <ul class="list-group">
                                    <li class="list-group-item" style="font-size: small; padding: 0;">Nothing in queue
                                    </li>
                                </ul>
                            </div>

                            Processing events
                            <div v-if="processingEvents.length > 0">
                                <ul class="list-group" v-for="event in processingEvents">
                                    <li class="list-group-item"
                                        style="font-size: small; padding: 0; background-color: tomato;">
                                        {{translateEventClassName(event)}}</li>
                                </ul>
                            </div>
                            <div v-else>
                                <ul class="list-group">
                                    <li class="list-group-item" style="font-size: small; padding: 0;">Nothing is
                                        processed</li>
                                </ul>
                            </div>

                            Processed events
                            <div v-if="processedEvents.length > 0">
                                <ul class="list-group" v-for="event in processedEvents">
                                    <li class="list-group-item"
                                        style="font-size: small; padding: 0; background-color: cyan;">
                                        <span style="float: left; margin-left: 10;">{{translateEventClassName(event)}}</span> <span class="badge bg-secondary" style="float: right; margin-right: 10;">{{event.processingEndTimestamp.toFixed(0)}}</span></li>
                                </ul>
                            </div>
                            <div v-else>
                                <ul class="list-group">
                                    <li class="list-group-item" style="font-size: small; padding: 0;">Nothing's
                                        processed yet</li>
                                </ul>
                            </div>

                        </div>
                        <div class="tab-pane fade" id="nav-mempool" role="tabpanel" aria-labelledby="nav-mempool-tab">
                            Mempool
                        </div>
                        <div class="tab-pane fade" id="nav-blockchain" role="tabpanel"
                            aria-labelledby="nav-blockchain-tab">
                            ...</div>
                    </div>






                    <!-- <div v-if="network.selectedNode.eventProcessor.events.length > 0">
                    {{ network.selectedNode.eventProcessor.events[0] }}
                    </div> -->
                </div>
                <div v-else>
                    <h5>
                        Ctrl + left click = new node
                    </h5>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <!-- <h3 v-if="network.currentFps">{{ network.currentFps }} FPS</h3> -->
                <h3>{{ (network.timer.currentTimestamp/1000).toFixed(1) }}s</h3>
            </div>
        </div>
    </div>
</body>

<script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
    integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="https://unpkg.com/vuex@4.0.0/dist/vuex.global.js"></script>
<script type="module" src="./index.js"></script>

</html>